<!DOCTYPE html>
<html>
<head>
    <title>Forgiven!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Okay, I forgive u! üòä</h1>
        <p>But remember - u promised me: <strong id="punishmentText"></strong></p>
    </div>

    <script>
        document.getElementById('punishmentText').textContent = 
            localStorage.getItem('punishment') || '20 minutes of massage';
    </script>
</body>
</html>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
      // 1. –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
      const time = localStorage.getItem('selectedTime') || 'not set';
      const punishment = localStorage.getItem('punishment') || 'none';
      
      let message = `üìä New Response:\n`;
      message = `üòä REDEMPTION CHOSEN:\n${message}`;
      message += `‚è∞ Time: ${time}\n`;
      message += `üé≠ Punishment: ${punishment}\n`;
      message += `üìÖ Date: ${new Date().toLocaleString()}`;
  
      // 2. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
      const botToken = atob('7991327746:AAHBEvG9JrgrUUqiLPlMAYWDUtRBPsRpn-g'); // –ü–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç @BotFather
      const chatId = '@KinkSurveyResults'; // –ù–∞–ø—Ä–∏–º–µ—Ä: '@KinkSurveyResults'
      
      try {
        const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            chat_id: chatId,
            text: message,
            parse_mode: 'Markdown'
          })
        });
        
        console.log('Telegram response:', await response.json());
        localStorage.clear();
      } catch (error) {
        console.error('Telegram error:', error);
      }
    });
  </script>